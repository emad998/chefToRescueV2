<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Hello, world!</title>
  </head>
  <body>
    <!-- First part Chef and Button -->
    <div class="container-fluid bg-info text-white">
      <div class="row">
        <div class="col text-center">
          <h1 class="text-center">Chef to the Rescue</h1>
          <button class="btn btn-primary btn-lg mb-2">Generate A Meal</button>
        </div>
      </div>
    </div>

    <!-- second Part Meal Details  -->
    <div class="second">

    
    
    <div class="categories container-fluid text-center">
      <h3 class="mealTitle d-inline pl-4">Meal:</h3>
      <p class="mealResult d-inline pl-4"></p>

      <h3 class="cuisineTitle d-inline pl-4">Cuisine:</h3>
      <p class="cuisineResult d-inline pl-4"></p>
      <h3 class="categoryTitle d-inline pl-4">Category:</h3>
      <p class="categoryResult d-inline pl-4"></p>
    </div>

    <div class="container-fluid">
      <div class="d-flex justify-content-center">
        <!-- Ingredients -->
        <div class="ingredients bg-primary lefMargin w-50 p-4 rounded">
          <h6>Ingredients</h6>
        </div>

        <!-- Measure -->
        <div class="measure bg-success leftMargin w-50 p-4 rounded">
          <h6>Measure</h6>
        </div>
      </div>
    </div>

    <!-- Recipe -->
    <div class="container">
      <h3 class="text-center mt-2">Recipe</h3>
      <p class="recipe"></p>
    </div>

    <!-- image -->
    <div class="container-fluid">
      <img
        class="imageResult mx-auto d-block rounded-circle img-fluid"
        src=""
        alt="meal-photo"
      />
    </div>
 

    <!-- youtube link -->
    <div class="youTubeBox text-center">
      <a class="youtubeResult" href="">Youtube link</a>
    </div>

  </div>



    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>

    <script>
      $(document).ready(function () {
        $('.second').hide()

        $('button').click(function () {

          $.get(
          "https://www.themealdb.com/api/json/v1/1/random.php",
          function (res) {
            let mealName = ''
            mealName = res.meals[0].strMeal;
            $(".mealResult").text(mealName);
            let cuisineName = ''
            cuisineName = res.meals[0].strArea;
            $(".cuisineResult").text(cuisineName);
            let typeName = ''
            typeName = res.meals[0].strCategory;
            $(".categoryResult").text(typeName);
            // getting Ingredients

            $('.remove1').remove()
            let htmlStr = "";
            for (x in res.meals[0]) {
              for (var i = 0; i <= 20; i++) {
                if (x === "strIngredient" + i) {
                  htmlStr += `<p class="remove1">${res.meals[0][x]}</p>`;
                  console.log(htmlStr);
                }
              }
            }
            $(".ingredients").append(htmlStr);
            // getting Measurements
            $('.remove2').remove()
            let html2Str = "";
            for (x in res.meals[0]) {
              for (var i = 0; i <= 20; i++) {
                if (x === "strMeasure" + i) {
                  html2Str += `<p class="remove2">${res.meals[0][x]}</p>`;
                  console.log(htmlStr);
                }
              }
            }
            $(".measure").append(html2Str);

            // getting recipe
            let recipeInstructions = res.meals[0].strInstructions;
            $(".recipe").text(recipeInstructions);

            // meal image
            $(".imageResult").attr("src", res.meals[0].strMealThumb);

            // youtube link
            $(".youtubeResult").attr("href", res.meals[0].strYoutube);

            // reshowing the div
            $('.second').show()

            console.log(res);
          },
          "json"
        );








        })

        
      });
    </script>
  </body>
</html>
